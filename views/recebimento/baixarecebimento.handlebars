

<div class="content p-1">
    <div class="list-group-item">
        <div class="d-flex">
            <div class="mr-auto p-2">
                <h2 class="display-4 titulo">Baixa de Recebimento</h2>
            </div>
        </div>
        {{>_msg}}

        <hr>
        <!-- Listagem dos Lancamentos -->
        <div class="list-group-item">
            <div class="card">
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Cliente</th>
                                <th class="d-lg-table-cell">Data Lançamento</th>
                                <th class="d-lg-table-cell">Data Inicio</th>
                                <th class="d-lg-table-cell">Data Fim</th>
                                <th class="d-sm-table-cell">Valor a Receber</th>
                                <th class="text-center">Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each listagem}}
                            <tr>
                                <td>{{nome}}</td>
                                <td class="d-sm-table-cell">{{moment dataLancamento "DD/MM/YYYY"}}</td>
                                <td class="d-sm-table-cell">{{moment dataInicio "DD/MM/YYYY"}} </td>
                                <td class="d-sm-table-cell">{{moment dataFim "DD/MM/YYYY"}} </td>
                                <td class="d-lg-table-cell"> R$ {{valorRs}} </td>

                                <td class="text-center">
                                    <span class="d-none d-md-block">
                                        <a href="/recebimento/edit-recebimento/{{idRecebimento}}"
                                            class="btn btn-outline-primary btn-sm" data-toggle="modal"
                                            data-target="#modalRecebimento" data-whateverid="{{idRecebimento}}"
                                            data-whatevernome="{{nome}}"
                                            data-whateverdataPagamento="{{moment dataPagamento 'DD/MM/YYYY'}}"
                                            data-whatevervalorPago="{{valorPago}}" data-whatevervalorrs="{{valorRs}}"
                                            data-whateverdatalancamento="{{dataLancamento}}">
                                            Efetuar Baixa</a>
                                    </span>

                                    <div class="dropdown d-block d-md-none">
                                        <a href="/recebimento/edit-recebimento/{{idRecebimento}}"
                                            class="btn btn-outline-primary btn-sm" data-toggle="modal"
                                            data-target="#modalRecebimento" data-whateverid="{{idRecebimento}}"
                                            data-whatevernome="{{nome}}"
                                            data-whateverdataPagamento="{{moment dataPagamento 'DD/MM/YYYY'}}"
                                            data-whatevervalorPago="{{valorPago}}" data-whatevervalorrs="{{valorRs}}"
                                            data-whateverdatalancamento="{{dataLancamento}}">
                                            Efetuar Baixa</a>
                                    </div>
                                </td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Monta Formulario Modal -->
<div class="modal fade" id="modalRecebimento" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel">Baixar Lançamento</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                
            </div>
            {{>_msg}}
            <hr>
            <div class="modal-body">
                <form method="POST" action="/recebimento/baixa-recebimento">
                    <!--  <input name="idLancamento" id="idLancamento" type="hidden" value="{{lancamentodiario.idLancamento}}" -->
                    
                    <input type="hidden" id="id_modal" name="id_modal">
                    <div class="form-row">
                        <div class="form-group col-md-10">
                            <div class="form-group">
                                <label for="recipient-name" class="control-label">Nome:</label>
                                <input type="text" class="form-control" id="nome_modal" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-5">
                            <label for="recipient-name" class="control-label"> Data Lançamento:</label>
                            <input type="text" class="form-control" id="datalancamento_modal"
                                name="datalancamento_modal"  readonly >
                                
                        </div>

                        <div class="form-group col-md-4">
                            <label for="recipient-name" class="control-label"> Valor a Receber:</label>
                            <input type="text" class="form-control" id="valorrs_modal" name="valorrs_modal"
                                onkeypress="$(this).mask('##0.00', {reverse: true})"  readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-5">
                            <label for="recipient-name" class="control-label">Data Pagamento:</label>
                            <input type="date" class="form-control" id="dataPagamento_modal" name="dataPagamento_modal">
                        </div>

                        <div class="form-group col-md-4">
                            <label for="recipient-name" class="control-label">Valor Pago:</label>
                            <input type="text" class="form-control" id="valorPago_modal" name="valorPago_modal"
                                onkeypress="$(this).mask('##0.00', {reverse: true})">
                        </div>
                    </div>


                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-danger"> Baixar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

